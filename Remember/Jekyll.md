## Jekyll

### Fluid

```bash
{{'now' | date: '%B %d, %Y'}}   # November 03, 2017
{{'now' | date_to_string }} # 03 Nov 2017
{{'now' | date_to_long_string }} # 03 November 2017
{{ page.date | date: "%Y-%m-%d" }} # 2017-11-03
{{ page.date | date: "%-m/%-d/%Y" }} # 11/3/2017
{{ page.date | date: "%-m/%-d/%y" }} # 11/3/17

```

### Site variables

[All Variables](https://jekyllrb.com/docs/variables/)

```bash
page.url # current page url
page.* # any front matter data
site.data.samplelist # ymal data in _data/samplelist.yml
site.docs # a list of files in _docs
site.categories.news # all files with "category: news" in their front matter

{{ variable | jsonify }} # debug
```

### SEO

- title
- <meta name="description" content="" />
- sitemap

```xml
<urlset xmlns="http://www.sitemap.org/schemas/sitemap/0.9">
  <url>
    <loc>
    	https://yuchenzhangu.github.io/news/2013/10/09/planet-without-star/
    </loc>
    <changefreq>monthly</changefreq>
    <priority>1.0</priority>
  </url>
</urlset>
```

- pretty url (url that without extension)




### Install

```bash
# install jekyll on mac
## 0 install xcode if not installed
xcode-select --install

## 1 install homebrew
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

## 2 gem (ruby package management)
brew install ruby

## 3 install jekyll
gem install jekyll

# run jekyll server locally
jekyll serve --watch --baseurl


```


### Notices

- each html (liquid template) should have ymal format matter on the top (--- ---)

### Push to Github

- make a new branch call `gh-pages` on GitHub
- clone the repository locally
- Add files under '_site/' to .gitignore(this folder is autogenerated for local debug): `echo _site >> .gitignore`
- push the Jekyll files to `gh-pages` on GitHub


#### _config.yml

```yaml
baseurl: ''
exclude: 'README.md'
permalink: pretty # make url without extension new.html -> new/
# {{site.baseurl}} # to access variable in the config file
```

####  use template

- create _layouts/default.html template file
- {{content}} is the placeholder for content in the html template file
- call the template in the content page


```yml
---
layout: default
---
```



#### include page

```yaml
# folder structure
_layout
	- default.html
_include
	- nav.html
_post
	- 2014-11-01-title.md
      ---
      layout: news-article
      title: Curiosity rover makes big water discovery in Mars dirt
      meta: Future Mars explorers may be able to get all the water they need out of the red dirt beneath their boots.
      source: http://www.space.com/22949-mars-water-discovery-curiosity-rover.html
      category: news
      ---
      Future Mars explorers may be able to get all the water they need out of the red dirt beneath their boots, a new study suggests.
_data
	
```



```bash
# include page(partial view)
{% include nav.html navClass='nav-top' %} # navClass is the parameter pass to the partial view
## in the nav.html
{% include.navClass %}  # to access to the parameter navClass

# variable
{{ x }}

# other code
## branch
{% if %} {% endif %}

# loop
## _post
### site.categories.news refer to all .md file in _post with category:news
{% for news in site.categories.news %} 
	### the title and meta are the yml data on the top of .md file in the _post folder
	{% news.title %} 
	{% news.meta %}
	{% news.url %} # url is a variable auto generated with '/' prepended
{% endfor %}

## _date
{% for planet in site.data.planet-types  %}
	### planet-types is a yml file in _data folder
{% endfor %}

## all pages on the site
{% for planet in site.pages %}
	{% if planet.type == 'dwarf' %}
	
	{% endif %}
{% endfor %}




```






